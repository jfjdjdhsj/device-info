<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>è¶…çº§è®¾å¤‡ä¿¡æ¯è¯†åˆ«ç³»ç»Ÿ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <meta name="theme-color" content="#f3f4f6" />
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "SF Pro SC",
        "Helvetica Neue", Arial, "PingFang SC", "Noto Sans CJK SC", sans-serif;
      background: #f3f4f6;
      color: #111827;
      padding: 12px;
      display: flex;
      justify-content: center;
    }

    .page {
      width: 100%;
      max-width: 480px; /* æ‰‹æœºä¸Šæ›´åƒ App å¡ç‰‡ */
      margin: 0 auto 16px;
    }

    .card {
      background: #ffffff;
      border-radius: 18px;
      padding: 14px 16px;
      box-shadow: 0 10px 25px rgba(15, 23, 42, 0.08);
      border: 1px solid #e5e7eb;
      margin-bottom: 12px;
    }

    .card.small-shadow {
      box-shadow: 0 5px 12px rgba(15, 23, 42, 0.05);
    }

    .header-card {
      margin-top: 4px;
      margin-bottom: 14px;
      padding-top: 18px;
      padding-bottom: 18px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 6px;
    }

    .header-icon {
      font-size: 32px;
    }

    h1 {
      margin: 0;
      font-size: 20px;
      font-weight: 700;
      text-align: center;
    }

    .header-sub {
      margin: 0;
      font-size: 12px;
      color: #6b7280;
      text-align: center;
    }

    .title {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 10px;
      color: #374151;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .title-dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: #3b82f6;
    }

    .row {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      padding: 6px 0;
      border-bottom: 1px dashed #e5e7eb;
      font-size: 13px;
      gap: 8px;
    }

    .row:last-child {
      border-bottom: none;
      padding-bottom: 0;
    }

    .label {
      color: #6b7280;
      flex-shrink: 0;
      min-width: 92px;
    }

    .value {
      font-weight: 500;
      color: #111827;
      text-align: right;
      word-break: break-all;
    }

    .value.mono {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
        "Liberation Mono", "Courier New", monospace;
      font-size: 12px;
    }

    #ua {
      max-height: 5.5em;       /* æ‰‹æœºä¸Šé™åˆ¶é«˜åº¦ */
      overflow-y: auto;        /* è¶…å‡ºå¯æ»šåŠ¨ */
      padding: 6px 8px;
      background: #f9fafb;
      border-radius: 10px;
    }

    .tag-list {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 6px;
    }

    .tag {
      font-size: 11px;
      padding: 3px 8px;
      border-radius: 999px;
      background: #eff6ff;
      color: #1d4ed8;
      border: 1px solid #bfdbfe;
    }

    .footer-tip {
      font-size: 11px;
      color: #9ca3af;
      text-align: center;
      margin-top: 4px;
    }

    @media (min-width: 640px) {
      body {
        padding: 24px;
      }

      .header-card {
        border-radius: 20px;
      }

      h1 {
        font-size: 22px;
      }

      .card {
        padding: 16px 18px;
      }
    }
  </style>
</head>

<body>
  <div class="page">
    <!-- å¤´éƒ¨å¡ç‰‡ -->
    <div class="card header-card">
      <div class="header-icon">ğŸ“±</div>
      <h1>è¶…çº§è®¾å¤‡ä¿¡æ¯è¯†åˆ«ç³»ç»Ÿ</h1>
      <p class="header-sub">æœ¬é¡µé¢åªåœ¨æœ¬åœ°è§£æä½ çš„è®¾å¤‡ä¿¡æ¯ï¼Œä¸ä¼šä¸Šä¼ åˆ°æœåŠ¡å™¨</p>

      <div class="tag-list">
        <span class="tag" id="tag-device">è®¾å¤‡ï¼šæ£€æµ‹ä¸­</span>
        <span class="tag" id="tag-os">ç³»ç»Ÿï¼šæ£€æµ‹ä¸­</span>
        <span class="tag" id="tag-browser">æµè§ˆå™¨ï¼šæ£€æµ‹ä¸­</span>
      </div>
    </div>

    <!-- åŸºç¡€ä¿¡æ¯ -->
    <div class="card small-shadow">
      <div class="title">
        <span class="title-dot"></span>
        åŸºç¡€è¯†åˆ«ä¿¡æ¯
      </div>
      <div class="row"><span class="label">è®¾å¤‡ç±»å‹</span><span class="value" id="device"></span></div>
      <div class="row"><span class="label">æ“ä½œç³»ç»Ÿ</span><span class="value" id="os"></span></div>
      <div class="row"><span class="label">æµè§ˆå™¨</span><span class="value" id="browser"></span></div>
      <div class="row"><span class="label">æµè§ˆå™¨ç‰ˆæœ¬</span><span class="value" id="browserVer"></span></div>
      <div class="row" style="border-bottom:none; padding-bottom:0;">
        <span class="label">User-Agent</span>
        <span class="value mono" id="ua"></span>
      </div>
    </div>

    <!-- ç¡¬ä»¶ä¿¡æ¯ -->
    <div class="card small-shadow">
      <div class="title">
        <span class="title-dot" style="background:#10b981;"></span>
        ç¡¬ä»¶ä¿¡æ¯
      </div>
      <div class="row"><span class="label">CPU æ ¸å¿ƒæ•°</span><span class="value" id="cpu"></span></div>
      <div class="row"><span class="label">å†…å­˜</span><span class="value" id="ram"></span></div>
      <div class="row"><span class="label">GPU æ˜¾å¡</span><span class="value" id="gpu"></span></div>
    </div>

    <!-- å±å¹•ä¿¡æ¯ -->
    <div class="card small-shadow">
      <div class="title">
        <span class="title-dot" style="background:#f97316;"></span>
        æ˜¾ç¤ºå™¨ä¸å±å¹•
      </div>
      <div class="row"><span class="label">å±å¹•åˆ†è¾¨ç‡</span><span class="value" id="screenRes"></span></div>
      <div class="row"><span class="label">å¯è§†åŒºåŸŸ</span><span class="value" id="viewport"></span></div>
      <div class="row"><span class="label">åƒç´ æ¯” DPR</span><span class="value" id="dpr"></span></div>
    </div>

    <!-- ç”µæ±  -->
    <div class="card small-shadow">
      <div class="title">
        <span class="title-dot" style="background:#eab308;"></span>
        ç”µæ± ä¿¡æ¯
      </div>
      <div class="row"><span class="label">ç”µé‡</span><span class="value" id="batteryLevel"></span></div>
      <div class="row"><span class="label">æ˜¯å¦å……ç”µ</span><span class="value" id="batteryCharge"></span></div>
    </div>

    <!-- ç½‘ç»œ -->
    <div class="card small-shadow">
      <div class="title">
        <span class="title-dot" style="background:#6366f1;"></span>
        ç½‘ç»œä¿¡æ¯
      </div>
      <div class="row"><span class="label">åœ¨çº¿çŠ¶æ€</span><span class="value" id="online"></span></div>
      <div class="row"><span class="label">ç½‘ç»œç±»å‹</span><span class="value" id="netType"></span></div>
      <div class="row"><span class="label">æœ¬åœ° IPï¼ˆå¯èƒ½éœ€è¦ HTTPSï¼‰</span><span class="value" id="ip"></span></div>
    </div>

    <!-- ä¼ æ„Ÿå™¨æ”¯æŒ -->
    <div class="card small-shadow">
      <div class="title">
        <span class="title-dot" style="background:#ec4899;"></span>
        è®¾å¤‡èƒ½åŠ›æ”¯æŒ
      </div>
      <div class="row"><span class="label">è§¦æ‘¸æ”¯æŒ</span><span class="value" id="touch"></span></div>
      <div class="row"><span class="label">åŠ é€Ÿåº¦è®¡</span><span class="value" id="accel"></span></div>
      <div class="row"><span class="label">é™€èºä»ª</span><span class="value" id="gyro"></span></div>
      <div class="row"><span class="label">ç£åŠ›è®¡</span><span class="value" id="mag"></span></div>
    </div>

    <div class="footer-tip">æç¤ºï¼šå»ºè®®åœ¨æ‰‹æœºæµè§ˆå™¨ä¸­å…¨å±æŸ¥çœ‹ï¼Œä½“éªŒæ›´ä½³</div>
  </div>

  <script>
    const ua = navigator.userAgent || "";

    function detectDevice() {
      if (/mobile/i.test(ua)) return "æ‰‹æœº";
      if (/tablet|ipad/i.test(ua)) return "å¹³æ¿";
      return "æ¡Œé¢ç”µè„‘ / ç¬”è®°æœ¬";
    }

    function detectOS() {
      if (/windows/i.test(ua)) return "Windows";
      if (/mac os/i.test(ua)) return "macOS";
      if (/android/i.test(ua)) return "Android";
      if (/iphone|ipad|ipod/i.test(ua)) return "iOS";
      if (/linux/i.test(ua)) return "Linux";
      return "æœªçŸ¥";
    }

    function detectBrowser() {
      if (/edg/i.test(ua)) return "Edge";
      if (/chrome/i.test(ua) && !/edg/i.test(ua)) return "Chrome";
      if (/safari/i.test(ua) && !/chrome/i.test(ua)) return "Safari";
      if (/firefox/i.test(ua)) return "Firefox";
      return "æœªçŸ¥";
    }

    function getBrowserVersion() {
      const match =
        ua.match(/(chrome|edg|firefox)\/([\d\.]+)/i) ||
        ua.match(/version\/([\d\.]+).*safari/i);
      if (!match) return "æœªçŸ¥";
      if (/safari/i.test(match[0])) {
        return "Safari " + (match[1] || "");
      }
      return match[1].toUpperCase() + " " + match[2];
    }

    function getGPU() {
      try {
        const canvas = document.createElement("canvas");
        const gl =
          canvas.getContext("webgl") ||
          canvas.getContext("experimental-webgl");
        if (!gl) return "ä¸æ”¯æŒ WebGL";
        const debugInfo = gl.getExtension("WEBGL_debug_renderer_info");
        return debugInfo
          ? gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL)
          : "å—é™ï¼ˆæ— æ³•è¯»å–ï¼‰";
      } catch (e) {
        return "æ— æ³•è·å–";
      }
    }

    function getLocalIP(callback) {
      if (!window.RTCPeerConnection && !window.webkitRTCPeerConnection) {
        callback("ä¸æ”¯æŒ / éœ€ HTTPS");
        return;
      }
      const RTCPeer =
        window.RTCPeerConnection || window.webkitRTCPeerConnection;
      const pc = new RTCPeer({
        iceServers: [],
      });
      pc.createDataChannel("");
      pc.createOffer().then((offer) => pc.setLocalDescription(offer));

      pc.onicecandidate = (e) => {
        if (!e.candidate) return;
        const ipMatch = e.candidate.candidate.match(
          /(\d{1,3}(?:\.\d{1,3}){3})/
        );
        if (ipMatch) {
          callback(ipMatch[1]);
          pc.onicecandidate = null;
          pc.close();
        }
      };
    }

    async function loadBattery() {
      if (!navigator.getBattery) {
        document.getElementById("batteryLevel").innerText = "ä¸æ”¯æŒ";
        document.getElementById("batteryCharge").innerText = "ä¸æ”¯æŒ";
        return;
      }
      try {
        const battery = await navigator.getBattery();
        document.getElementById("batteryLevel").innerText =
          Math.round(battery.level * 100) + "%";
        document.getElementById("batteryCharge").innerText = battery.charging
          ? "æ˜¯"
          : "å¦";
      } catch (e) {
        document.getElementById("batteryLevel").innerText = "æ— æ³•è·å–";
        document.getElementById("batteryCharge").innerText = "æ— æ³•è·å–";
      }
    }

    const device = detectDevice();
    const os = detectOS();
    const browser = detectBrowser();

    document.getElementById("device").innerText = device;
    document.getElementById("os").innerText = os;
    document.getElementById("browser").innerText = browser;
    document.getElementById("browserVer").innerText = getBrowserVersion();
    document.getElementById("ua").innerText = ua || "æœªçŸ¥";

    document.getElementById("cpu").innerText =
      (navigator.hardwareConcurrency || "?") + " æ ¸å¿ƒ";
    document.getElementById("ram").innerText = navigator.deviceMemory
      ? navigator.deviceMemory + " GB"
      : "æœªçŸ¥ / ä¸æ”¯æŒ";
    document.getElementById("gpu").innerText = getGPU();

    document.getElementById("screenRes").innerText =
      window.screen.width + " Ã— " + window.screen.height;
    document.getElementById("viewport").innerText =
      window.innerWidth + " Ã— " + window.innerHeight;
    document.getElementById("dpr").innerText =
      window.devicePixelRatio || 1;

    document.getElementById("online").innerText = navigator.onLine
      ? "åœ¨çº¿"
      : "ç¦»çº¿";
    document.getElementById("netType").innerText = navigator.connection
      ? navigator.connection.effectiveType
      : "æœªçŸ¥ / ä¸æ”¯æŒ";

    document.getElementById("touch").innerText =
      navigator.maxTouchPoints > 0 ? "æ”¯æŒ" : "ä¸æ”¯æŒ";
    document.getElementById("accel").innerText =
      "DeviceMotionEvent" in window ? "æ”¯æŒ" : "ä¸æ”¯æŒ";
    document.getElementById("gyro").innerText =
      "DeviceOrientationEvent" in window ? "æ”¯æŒ" : "ä¸æ”¯æŒ";
    document.getElementById("mag").innerText =
      "Magnetometer" in window ? "æ”¯æŒ" : "ä¸æ”¯æŒ";

    loadBattery();

    getLocalIP((ip) => {
      document.getElementById("ip").innerText = ip;
    });

    // é¡¶éƒ¨ tag åŒæ­¥
    document.getElementById("tag-device").innerText = "è®¾å¤‡ï¼š" + device;
    document.getElementById("tag-os").innerText = "ç³»ç»Ÿï¼š" + os;
    document.getElementById("tag-browser").innerText = "æµè§ˆå™¨ï¼š" + browser;
  </script>
</body>
</html
